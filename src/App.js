import React, { useEffect } from "react";
import { MapContainer, Circle, Popup, TileLayer, GeoJSON, Polyline } from "react-leaflet";
// import { Icon } from "leaflet";
import rkData from "./data/rkdobra.json";
import stData from "./data/kstanista.json";
import "./app.css";
import hash from 'object-hash'


function App () {

const mpoly = [ [ 1504033.579923829995096, 5700079.244876489974558 ], [ 1504048.85714006004855, 5700073.791186390444636 ], [ 1504062.471599109936506, 5700062.363754999823868 ], [ 1504079.845114229945466, 5700051.196797099895775 ], [ 1504099.553157819900662, 5700040.589630699716508 ], [ 1504123.860381389968097, 5700032.989976 ], [ 1504144.439200880005956, 5700024.305800089612603 ], [ 1504169.442090139957145, 5700023.349125860258937 ], [ 1504181.738519019912928, 5700047.440533690154552 ], [ 1504190.7643302900251, 5700051.338207069784403 ], [ 1504205.065482829930261, 5700051.872296160086989 ], [ 1504263.082452380098403, 5700032.108198050409555 ], [ 1504313.628134300000966, 5700010.55229933001101 ], [ 1504357.147524570114911, 5699995.539903629571199 ], [ 1504413.742361370008439, 5699973.45305285975337 ], [ 1504457.345403060084209, 5699956.174689300358295 ], [ 1504461.553567430004478, 5699964.650102569721639 ], [ 1504467.239060770021752, 5699973.937061299569905 ], [ 1504482.989461509976536, 5699976.037174220196903 ], [ 1504535.62460285006091, 5699959.095435970462859 ], [ 1504666.904261759947985, 5699913.167842620052397 ], [ 1504734.108526970027015, 5699892.04199832957238 ], [ 1504784.184885669965297, 5699875.476278089918196 ], [ 1504804.309709949884564, 5699866.301068879663944 ], [ 1504813.91046045999974, 5699861.46001781988889 ], [ 1504808.703912310069427, 5699836.689091389998794 ], [ 1504796.703024029964581, 5699804.575417160056531 ], [ 1504788.413226549979299, 5699774.018087490461767 ], [ 1504773.782367390114814, 5699736.607561389915645 ], [ 1504760.860037710051984, 5699691.226390450261533 ], [ 1504746.702834940049797, 5699628.312382999807596 ], [ 1504737.246980190044269, 5699591.095335910096765 ], [ 1504730.508643259992823, 5699556.815631659701467 ], [ 1504722.598981830058619, 5699554.157563449814916 ], [ 1504713.225778290070593, 5699552.862930039875209 ], [ 1504707.547653400106356, 5699540.835706129670143 ], [ 1504703.298111, 5699528.389331459999084 ], [ 1504701.905874550109729, 5699515.104081160388887 ], [ 1504702.535231289919466, 5699498.113366479985416 ], [ 1504706.091925420099869, 5699478.39626485016197 ], [ 1504704.194505559979007, 5699466.037535740062594 ], [ 1504699.004142310004681, 5699453.556039409711957 ], [ 1504694.196880710078403, 5699443.451973659917712 ], [ 1504680.502722870092839, 5699444.359191110357642 ], [ 1504665.205163730075583, 5699450.405287629924715 ], [ 1504648.583640859927982, 5699454.038995809853077 ], [ 1504635.657218169886619, 5699446.940378990024328 ], [ 1504633.549931430025026, 5699440.245248950086534 ], [ 1504635.188461679965258, 5699434.162390150129795 ], [ 1504645.276815109886229, 5699428.867227310314775 ], [ 1504651.549266669899225, 5699424.847600479610264 ], [ 1504653.815637100022286, 5699414.534766499884427 ], [ 1504649.461321210023016, 5699404.920178609900177 ], [ 1504648.121626270003617, 5699390.219361980445683 ], [ 1504650.788415620103478, 5699381.811764629557729 ], [ 1504687.044086819980294, 5699382.218614379875362 ], [ 1504724.798383329994977, 5699380.318075650371611 ], [ 1504755.584008039906621, 5699375.794470299966633 ], [ 1504788.042969539994374, 5699364.244087809696794 ], [ 1504806.215293159941211, 5699356.88715751003474 ], [ 1504809.716467200079933, 5699355.147409340366721 ], [ 1504800.952555899973959, 5699343.188683570362628 ], [ 1504775.00177563005127, 5699331.63487199973315 ], [ 1504676.18820030009374, 5699293.167049990035594 ], [ 1504594.574066800065339, 5699258.364509959705174 ], [ 1504565.431104, 5699353.310730789788067 ], [ 1504484.434042880078778, 5699323.440502500161529 ], [ 1504483.382570019923151, 5699335.643044830299914 ], [ 1504482.997722199885175, 5699346.026089820079505 ], [ 1504482.57789007993415, 5699357.352970760315657 ], [ 1504485.956310349982232, 5699367.876308940351009 ], [ 1504490.345413689967245, 5699376.547104129567742 ], [ 1504497.661905410001054, 5699382.491300259716809 ], [ 1504507.870646439958364, 5699386.653134769760072 ], [ 1504517.173675100086257, 5699389.835751229897141 ], [ 1504527.347597900079563, 5699394.941401010379195 ], [ 1504536.615654509980232, 5699399.068114809691906 ], [ 1504545.813766550039873, 5699405.082480110228062 ], [ 1504553.060214509954676, 5699412.914592400193214 ], [ 1504551.769706239923835, 5699422.318665970116854 ], [ 1504544.904283890035003, 5699429.624365369789302 ], [ 1504536.227092320099473, 5699434.972058829851449 ], [ 1504526.644162500044331, 5699439.34053338970989 ], [ 1504518.002078500110656, 5699443.744243239983916 ], [ 1504508.454106640070677, 5699447.169010739773512 ], [ 1504498.906133089913055, 5699450.593626339919865 ], [ 1504488.452274640090764, 5699453.039294309914112 ], [ 1504478.974261420080438, 5699454.576078839600086 ], [ 1504469.496387539897114, 5699456.112858730368316 ], [ 1504460.053354650037363, 5699456.705788999795914 ], [ 1504448.658618790097535, 5699459.116303900256753 ], [ 1504437.334007210098207, 5699459.63885547965765 ], [ 1504427.995948819909245, 5699457.399963449686766 ], [ 1504418.692891180049628, 5699454.217085869982839 ], [ 1504410.400688450084999, 5699449.181503320112824 ], [ 1504401.02765105990693, 5699447.886561839841306 ], [ 1504389.738046539947391, 5699447.465219750069082 ], [ 1504379.389160810038447, 5699447.078973880037665 ], [ 1504369.040418640011922, 5699446.692721329629421 ], [ 1504358.691535549936816, 5699446.306451490148902 ], [ 1504348.342796019976959, 5699445.920174979604781 ], [ 1504338.063918610103428, 5699443.646074290387332 ], [ 1504327.890057099983096, 5699438.540182510390878 ], [ 1504316.635477459989488, 5699437.174774750135839 ], [ 1504306.28675203002058, 5699436.788450179621577 ], [ 1504295.937885690014809, 5699436.402108330279589 ], [ 1504286.494868739973754, 5699436.994853540323675 ], [ 1504276.981840420048684, 5699439.475250699557364 ], [ 1504266.528086059959605, 5699441.920658639632165 ], [ 1504257.085062460042536, 5699442.513372739776969 ], [ 1504246.736193689983338, 5699442.126973279751837 ], [ 1504234.50575290992856, 5699441.670305360108614 ], [ 1504224.262072250014171, 5699438.452107509598136 ], [ 1504214.994125769939274, 5699434.325196909718215 ], [ 1504211.580993130104616, 5699424.745517949573696 ], [ 1504204.487357900012285, 5699441.182576620019972 ], [ 1504199.151789200026542, 5699503.746353009715676 ], [ 1504196.658546440070495, 5699570.953832879662514 ], [ 1504198.492450590012595, 5699602.782418429851532 ], [ 1504197.844432430109009, 5699640.567790109664202 ], [ 1504198.565286800032482, 5699661.768213460221887 ], [ 1504200.178920380072668, 5699679.221087549813092 ], [ 1504155.435764590045437, 5699686.624450289644301 ], [ 1504104.587248449912295, 5699696.068126340396702 ], [ 1504053.822716430062428, 5699703.246061259880662 ], [ 1504043.813867510063574, 5699708.921809120103717 ], [ 1504049.386658960022032, 5699721.229268659837544 ], [ 1504050.303498500026762, 5699737.143752760253847 ], [ 1504031.847053200006485, 5699747.04096528980881 ], [ 1503994.517999649979174, 5699757.745449620299041 ], [ 1503941.130576360039413, 5699774.655489640310407 ], [ 1503898.672806839924306, 5699781.386941789649427 ], [ 1503874.226228900020942, 5699787.516924129799008 ], [ 1503855.687115029897541, 5699792.022779789753258 ], [ 1503844.291956970002502, 5699794.432594699785113 ], [ 1503828.733108700020239, 5699794.796237519942224 ], [ 1503832.303573880111799, 5699800.12861816957593 ], [ 1503833.676875649951398, 5699813.88630732987076 ], [ 1503833.306003289995715, 5699836.558727060444653 ], [ 1503830.620777389965951, 5699845.438405769877136 ], [ 1503836.237670860020444, 5699898.827472769655287 ], [ 1503841.95321807009168, 5699958.026312840171158 ], [ 1503844.831977149937302, 5699987.059530289843678 ], [ 1503852.714180890005082, 5699987.921265830285847 ], [ 1503969.574796889908612, 5699961.662197560071945 ], [ 1503986.029744369909167, 5699960.008460859768093 ], [ 1503999.688357600010931, 5700033.683706419542432 ], [ 1504007.866492900066078, 5700072.259569309651852 ], [ 1504019.169088850030676, 5700086.74137295037508 ], [ 1504033.579923829995096, 5700079.244876489974558 ] ] 

const center=[45.5, 13.5]

const multiPolyline = [
  [
    [45.5, 13.5],
    [45.5, 13.51],
  ],
  [
    [45.5, 13.5],
    [45.51, 13.5],
  
  ],
]
const fillBlueOptions = { fillColor: 'blue' }
const blackOptions = { color: 'black' }
const limeOptions = { color: 'lime' }
const purpleOptions = { color: 'purple' }

  function rkDobra(){
  const rkdobra=rkData//.features//toGeoJSON()
  console.log(rkdobra);
}
function staNista(){
  const stanista=stData//.features//toGeoJSON()
  console.log(stanista);
}

useEffect(()=>{
  rkDobra()
  staNista()
},[])

    return (
      <div className="App">
        <div className="App-header">
          <h2>Welcome to React</h2>
        </div>
        <p className="App-intro">

        
        </p>
 <MapContainer className='leaflet' center={[45.5, 13.5]} zoom={17}>
      <TileLayer 
        url=
        '	https://mjestopodsuncem.synology.me/qgis2web/savudrija_dof2cm_xyz/{z}/{x}/{y}.jpg'
        attribution='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            />
             <Circle center={center} pathOptions={fillBlueOptions} radius={200} />
     
            <Polyline positions={multiPolyline} pathOptions={blackOptions}/>
        {/* <GeoJSON key={hash(rkdobra())} data={rkdobra()} /> */}
</MapContainer> 
      </div>
    );
  }


export default App;



//WMS
// var nexrad = L.tileLayer.wms("http://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi", {
//     layers: 'nexrad-n0r-900913',
//     format: 'image/png',
//     transparent: true,
//     attribution: "Weather data Â© 2012 IEM Nexrad"
// });



//ALT
// export default function App() {
//   const [activePark, setActivePark] = React.useState(null);

//   return (
//     <Map center={[45.4, -75.7]} zoom={7}>
//       <TileLayer
//         url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
//         attribution='&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
//       />

//       {parkData.features.map(park => (
//         <Marker
//           key={park.properties.PARK_ID}
//           position={[
//             park.geometry.coordinates[1],
//             park.geometry.coordinates[0]
//           ]}
//           onClick={() => {
//             setActivePark(park);
//           }}
//           icon={icon}
//         />
//       ))}

//       {activePark && (
//         <Popup
//           position={[
//             activePark.geometry.coordinates[1],
//             activePark.geometry.coordinates[0]
//           ]}
//           onClose={() => {
//             setActivePark(null);
//           }}
//         >
//           <div>
//             <h2>{activePark.properties.NAME}</h2>
//             <p>{activePark.properties.DESCRIPTIO}</p>
//           </div>
//         </Popup>
//       )}
//     </Map>
//   );
// }
